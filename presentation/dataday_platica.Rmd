---
title: "Sanitization"
subtitle: "Perspectiva de Bases de Datos Negativas"
author: "Juan Zinser"
date: "2018/03/15"
output:
  xaringan::moon_reader:
    css: ["default", "portada.css"]
    lib_dir: libs
    nature:
      ratio: '16:9'
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
class: center, middle

# Privacidad de Datos
# Métodos de Sanitización
# Enfoque Bases de Datos Negativas
---
class: inverse, center, middle
# ¿Por qué es importante la privacidad de datos?
---
class: inverse, middle
# Dos tipos de sanitización de bases:
## Seguridad: impedir el acceso a los datos.
## Privacidad: tener un acceso contrado a los datos.
---
class: inverse, center, middle
# Privacidad de datos
+ ##¿Por qué es importante que los datos sean públicos?
## Propician mejores políticas públicas
## Incrementan la eficiencia de servicios
## Mejoran la transparencia
---
class: inverse, left, middle
# Modelos de ataque contra bases de datos
+ ## Attribute Leakage. 
+ ## Record Linkage. Concurso de Netflix.
---
class: center, middle
# Intercambio Natural
## 100% Utilidad - 0% Privacidad
## 0% Utilidad - 100% Privacidad
| Producto                  | Cantidad | Precio |
|---------------------------|----------|--------|
| Leche Deslactosada Borden | 2        | 15     |
| Leche Chocolate Borden    | 3        | 17     |
| Queso Manchego Nochebuena | 1        | 40     |
| Detergente Ariel          | 1        | 70     |
# 
| Producto          | Cantidad | Subtotal |
|-------------------|----------|----------|
| Lácteos           | 6        | 121      |
| Artículo Limpieza | 1        | 70       |
---
# Tipos de Sanitización
.pull-left[
Truncado

Ruido Aleatorio

Sampleo

Discretización
]

.pull-right[
Redondeo

Generalización

Microagregación

Bases Negativas
]
# 
# 
| Valor Original | Valor Sanitizado  | Método           |
| ---------------| ------------------| ---------------- |
| [1,0,0]        | [0,0.5,0.5]       | Bases Negativas  |  

---
class: center, middle
### Enfoque Sanitización Dummificación
|     |     0|     1|     2|        $0_s$ |        $1_s$ |        $2_s$ |
|  ---| -----| -----| -----| -------------| -------------| -------------|
|  0  |   1.0|   0.0|   0.0|   $\pi_{0,0}$|   $\pi_{0,1}$|   $\pi_{0,2}$|
|  1  |   1.0|   0.0|   0.0|   $\pi_{1,0}$|   $\pi_{1,1}$|   $\pi_{1,2}$|
|  2  |   0.0|   1.0|   0.0|   $\pi_{2,0}$|   $\pi_{2,1}$|   $\pi_{2,2}$|
|  3  |   1.0|   0.0|   0.0|   $\pi_{3,0}$|   $\pi_{3,1}$|   $\pi_{3,2}$|
|  4  |   1.0|   0.0|   0.0|   $\pi_{4,0}$|   $\pi_{4,1}$|   $\pi_{4,2}$|
|  5  |   1.0|   0.0|   0.0|   $\pi_{5,0}$|   $\pi_{5,1}$|   $\pi_{5,2}$|
|  6  |   1.0|   0.0|   0.0|   $\pi_{6,0}$|   $\pi_{6,1}$|   $\pi_{6,2}$|
|  7  |   1.0|   0.0|   0.0|   $\pi_{7,0}$|   $\pi_{7,1}$|   $\pi_{7,2}$|
|  8  |   1.0|   0.0|   0.0|   $\pi_{8,0}$|   $\pi_{8,1}$|   $\pi_{8,2}$|
|  9  |   0.0|   0.0|   1.0|   $\pi_{9,0}$|   $\pi_{9,1}$|   $\pi_{9,2}$|
#### $\sum_{j=0}^{nclasses}\pi_{i,j}=1.0$, $\pi_{i,j}\geq 0$
---
# Ventajas de las bases de datos negativas
## Mayor grado de automatización
---
class: center, middle
# Características del operador propuesto
## Inclusión del valor real
## Privacidad 
## Distribución de peso
---
# Resultados del operador sobre una base de datos
## Ejemplo 
| Columna           | Núm. Clases |
|-------------------|-------------|
| categoría laboral | 9           |
| educación         | 16          |
| estado civil      | 7           |
| ocupación         | 15          |
| raza              | 5           |
| género            | 2           |
| país orígen       | 42          |
---
class: inverse
# Dentro del intercambio de Privacidad-Utilidad, únicamente nos efocaremos en Utilidad.
# Dos formas de medir la utilidad de la tabla.
+ ## Utilidad medida por medio de métodos de aprendizaje de máquina.
+ ## Utilidad medida por medio de reconstrucción de histogramas. 
---
class: center, bottom, inverse
background-image: url(file:///home/juanzinser/Documents/plots/dataday/privacy_is_real.png)
background-size: 512px
background-position: 42% 10%
## Utilidad medida por medio de métodos de aprendizaje de máquina.
## No incluir el valor real presenta una mejor utilidad.
---
class: center, bottom, inverse
background-image: url(file:///home/juanzinser/Documents/plots/dataday/privacy_auc_bar_t.png)
background-size: 512px
background-position: 42% 10%
## Destaca la estabilidad en los dos "escalones".
---
class: center, bottom, inverse
background-image: url(file:///home/juanzinser/Documents/plots/dataday/privacy_auc_bar_f.png)
background-size: 512px
background-position: 42% 10%
## Destaca la pendiente positiva en los primeros niveles de privacidad.
---
class: center, bottom, inverse
background-image: url(file:///home/juanzinser/Documents/plots/dataday/uniform_model.png)
background-size: 512px
background-position: 42% 10%
## No pareece haber efecto del modelo con la deistribución de pesos.
---
class: center, bottom, inverse
background-image: url(file:///home/juanzinser/Documents/plots/dataday/include_real_model.png)
background-size: 512px
background-position: 45% 5%
## El modelo Naive Bayes tiene un mejor desempeño cuando el valor real no es incluido sobre el árbol de regresión, mientras que los demás modelos tienen un comportamiento independiente de la inclusión del valor real.
---
class: center, bottom
## Ejemplo de reconstrucción de histograma

|Original|0|1|2| |Sanitizada|0|1|2|
|--|--|--|--|--|--|--|--|--|
|0|1.0|0.0|0.0||0|0.0|0.5|0.5|
|1|1.0|0.0|0.0||1|0.0|0.5|0.5|
|2|0.0|1.0|0.0||2|0.5|0.0|0.5|
|3|1.0|0.0|0.0||3|0.0|0.5|0.5|
|4|1.0|0.0|0.0||4|0.0|0.5|0.5|
|5|1.0|0.0|0.0||5|0.0|0.5|0.5|
|6|1.0|0.0|0.0||6|0.0|0.5|0.5|
|7|1.0|0.0|0.0||7|0.0|0.5|0.5|
|8|1.0|0.0|0.0||8|0.0|0.5|0.5|
|9|0.0|0.0|1.0||9|0.5|0.5|0.0|
|total|8.0|1.0|1.0||total|1.0|4.5|4.5|
---
class: center, bottom, inverse
background-image: url(file:///home/juanzinser/Documents/plots/dataday/reconstruction_simulated_example.png)
background-size: 512px
background-position: 42% 10%
## Ejemplo de reconstrucción de histograma
## Chi-cuadrada $\chi^2  = \sum_{i=1}^n\frac{(NIS_i-CIS_i)^2}{CIS_i}$
---
class: center, bottom, inverse
background-image: url(file:///home/juanzinser/Documents/plots/dataday/privacy.png)
background-size: 512px
background-position: 42% 10%
## Después de un nivel de privacidad mayor al 40%, pierde relevancia la inclusión o no inclusión del valor real. 
---
class: center, bottom, inverse
background-image: url(file:///home/juanzinser/Documents/plots/dataday/nclasses.png)
background-size: 512px
background-position: 42% 10%
## El pero desempeño ocurre cuando la distribución de los datos es uniforme y los datos originales tienen una distribución exponencial.
---
class: middle, center, inverse
background-image: url(resources/DataDay-logo.png)
background-size: 256px
background-position: 93% 5%
## ¡Gracias!

github: [jwzinser](https://github.com/jwzinser)

### Referencias
[*Dwork*](http://web4.cs.ucl.ac.uk/staff/D.Barber/textbook/090310.pdf) - Cynthia Dwork 

[*Esponda*](http://web4.cs.ucl.ac.uk/staff/D.Barber/textbook/090310.pdf) - Fernando Esponda 

.footnote[ 
  [Repositorio con la plática](http://github.com/jwzinser/data_sanitization): jwzinser/data_sanitization 
]